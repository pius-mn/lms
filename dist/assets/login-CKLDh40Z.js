import{r as o,j as e}from"./index-DsreSAu8.js";import{a as m}from"./axios-Cm0UX6qg.js";const f=()=>{const[s,c]=o.useState({username:"",password:""}),[l,i]=o.useState(""),u="http://127.0.0.1:8000/api/",[r,n]=o.useState(!1),d=t=>{c({...s,[t.target.name]:t.target.value})},x=async t=>{t.preventDefault(),i(""),n(!0);try{const{data:a}=await m.post(`${u}login/`,s,{headers:{"Content-Type":"application/json"},withCredentials:!0});localStorage.clear(),localStorage.setItem("access_token",a.access),localStorage.setItem("refresh_token",a.refresh),m.defaults.headers.common.Authorization=`Bearer ${a.access}`,window.location.href="/",n(!1)}catch{i("Invalid username or password."),n(!1)}};return e.jsx("div",{className:"container mx-auto px-4  max-w-4xl",children:e.jsxs("div",{className:" bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 px-6",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("img",{className:"mx-auto h-10 w-auto",src:"https://www.svgrepo.com/show/301692/login.svg",alt:"Workflow"}),e.jsx("h2",{className:"mt-6 text-center text-3xl leading-9 font-extrabold text-gray-900",children:"Sign in to your account"}),e.jsx("p",{className:"mt-2 text-center text-sm leading-5 text-blue-500 max-w",children:e.jsx("a",{href:"/register",className:"font-medium text-blue-500 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Or create a new acccount"})})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium leading-5  text-gray-700",children:"User Name"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("input",{id:"username",placeholder:"Enter Username",name:"username",type:"text",value:s.username,onChange:d,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5"}),e.jsx("div",{className:"hidden absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-5 text-gray-700",children:"Password"}),e.jsx("div",{className:"mt-1 rounded-md shadow-sm",children:e.jsx("input",{type:"password",id:"password",name:"password",placeholder:"Enter password",value:s.password,onChange:d,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5"})})]}),e.jsx("div",{className:"text-sm leading-5",children:l&&e.jsx("p",{className:"text-red-500 text-xs italic mb-4",children:l})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember_me",name:"remember",type:"checkbox",className:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"}),e.jsx("label",{htmlFor:"remember_me",className:"ml-2 block text-sm leading-5 text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm leading-5",children:e.jsx("a",{href:"#",className:"font-medium text-blue-500 hover:text-blue-500 focus:outline-none focus:underline transition ease-in-out duration-150",children:"Forgot your password?"})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"submit",className:"py-2 px-4 flex justify-center items-center bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 focus:ring-offset-blue-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg",disabled:r,children:[r&&e.jsx("svg",{width:20,height:20,fill:"currentColor",className:"mr-2 animate-spin",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M526 1394q0 53-37.5 90.5t-90.5 37.5q-52 0-90-38t-38-90q0-53 37.5-90.5t90.5-37.5 90.5 37.5 37.5 90.5zm498 206q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-704-704q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm1202 498q0 52-38 90t-90 38q-53 0-90.5-37.5t-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-964-996q0 66-47 113t-113 47-113-47-47-113 47-113 113-47 113 47 47 113zm1170 498q0 53-37.5 90.5t-90.5 37.5-90.5-37.5-37.5-90.5 37.5-90.5 90.5-37.5 90.5 37.5 37.5 90.5zm-640-704q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm530 206q0 93-66 158.5t-158 65.5q-93 0-158.5-65.5t-65.5-158.5q0-92 65.5-158t158.5-66q92 0 158 66t66 158z"})}),e.jsx("span",{children:r?"Verifying...":"Login"})]})})]})})})]})})};export{f as default};

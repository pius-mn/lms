import{r as a}from"./index-DsreSAu8.js";import{a as n}from"./axios-Cm0UX6qg.js";const t=n.create(),i=()=>(a.useEffect(()=>{(async()=>{try{const o="http://127.0.0.1:8000/api/",e=localStorage.getItem("refresh_token"),r=localStorage.getItem("access_token");if(!o||!e||!r)throw new Error("Missing required data for logout");await t.post(`${o}logout/`,{refresh_token:e},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},withCredentials:!0}),localStorage.clear(),delete t.defaults.headers.common.Authorization,window.location.href="/login"}catch{localStorage.clear(),delete t.defaults.headers.common.Authorization,window.location.href="/login"}})()},[]),null);export{i as default};
